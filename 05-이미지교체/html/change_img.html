<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/change_img.css">
    <title>attr과 prop를 이용한 이미지 교체</title>
</head>

<body>

    <h1>attr() 과 prop() 를 활용한 이미지 교체</h1>

    <!-- <a href="https://www.naver.com" id="link">네이버</a>

    <img src="../img/boot_cut1.jpg" alt=""> -->

    <div class="product-box">
        <div class="big-img">
            <img src="../img/product_cut1.jpg" alt="">
        </div>

        <ul class="list-img">
            <li class="item active"><img src="../img/product_cut1.jpg" alt=""></li>
            <li class="item"><img src="../img/product_cut2.jpg" alt=""></li>
            <li class="item"><img src="../img/product_cut3.jpg" alt=""></li>
        </ul>

        <nav class="side-img">
            <div class="type-item"><img src="../img/product_cut1.jpg" alt=""></div>
            <div class="type-item"><img src="../img/proBeige_cut1.jpg" alt=""></div>
            <div class="type-item"><img src="../img/boot_cut1.jpg" alt=""></div>
        </nav>

    </div>

    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>

        let lastImgIndex = 0;
        $(".item").click(function () {
            $(this).addClass("active").siblings().removeClass("active");
            const itemImg = $(this).children().attr("src");
            $(".big-img").children().attr("src", itemImg);
            lastImgIndex = $(this).index(); // 클릭한 아이템의 배열번호 0 1 2
        });


        let imgSrc = "";
        $(".type-item").click(function () {
            const typeIndex = $(this).index();
            const imgList = $(".item");

            if (typeIndex === 0) { // 사이드이미지 첫번째
                imgSrc = "../img/product_cut";
                // imgList.eq(i).children().attr("src", "../img/product_cut" + (i + 1) + ".jpg");
            } else if (typeIndex === 1) { // 사이드이미지 두번째
                imgSrc = "../img/proBeige_cut";
                // imgList.eq(i).children().attr("src", "../img/proBeige_cut" + (i + 1) + ".jpg");
            } else { // 사이드 이미지 세번째
                imgSrc = "../img/boot_cut";
                // imgList.eq(i).children().attr("src", "../img/boot_cut" + (i + 1) + ".jpg");
            }

            for (let i = 0; i < $(".type-item").length; i++) {
                imgList.eq(i).children().attr("src", imgSrc + (i + 1) + ".jpg");
            }


            const bigImg_Src = imgList.eq(lastImgIndex).children().attr("src"); // 마지막으로 클릭된 item 배열을 담은 변수
            $(".big-img").children().attr("src", bigImg_Src);
        });
    </script>
</body>

</html>